# Production environment configuration
spring:
  datasource:
    url: ${SPRING_DATASOURCE_URL}
    username: ${SPRING_DATASOURCE_USERNAME}
    password: ${SPRING_DATASOURCE_PASSWORD}
    hikari:
      connection-timeout: 20000
      maximum-pool-size: 20
      minimum-idle: 5
      idle-timeout: 300000
      max-lifetime: 1200000
  jpa:
    show-sql: false
    properties:
      hibernate:
        generate_statistics: false
  config:
    import: optional:application-smtp.yml
  mail:
    from: ${SPRING_MAIL_FROM:no-reply@etalente.com}
  autoconfigure:
    exclude:
      - io.awspring.cloud.autoconfigure.ses.SesAutoConfiguration # Exclude SES auto-config when using SMTP
server:
  port: ${SERVER_PORT:8080}
  compression:
    enabled: true
    mime-types: text/html,text/xml,text/plain,text/css,text/javascript,application/javascript,application/json
    min-response-size: 1024
logging:
  pattern:
    exception-conversion-word: '%xEx{short}'
  level:
    root: WARN
    com.etalente.backend: INFO
    org.springframework.web: WARN
jwt:
  secret-key: ${JWT_SECRET}
  expiration-in-ms: ${JWT_EXPIRATION_MS:3600000} # 1 hour
magic-link:
  url: ${MAGIC_LINK_URL}
invitation-link-url: ${INVITATION_LINK_URL}
invitation-expiry-hours: ${INVITATION_EXPIRY_HOURS:72}
cors-allowed-origins: ${CORS_ALLOWED_ORIGINS:https://etalente.com,https://www.etalente.com}
ott:
  expiration-minutes: ${OTT_EXPIRATION_MINUTES:15} # Default for prod
novu:
  api-key: ${NOVU_API_KEY}
  backend-url: ${NOVU_BACKEND_URL:https://api.novu.co/v1/}
aws:
  s3:
    region: ${AWS_REGION} # Rely on IAM roles for credentials
upload:
  max-file-size: ${UPLOAD_MAX_FILE_SIZE:5242880}  # 5MB
  allowed-content-types:
    - image/jpeg
    - image/png
  presigned-url-expiration-minutes: ${PRESIGNED_URL_EXPIRATION_MINUTES:15}