# Test configuration
spring:
  datasource:
    driver-class-name: org.testcontainers.jdbc.ContainerDatabaseDriver
    url: jdbc:tc:postgresql:15:///etalente
  jpa:
    hibernate:
      ddl-auto: validate
    show-sql: false
  flyway:
    enabled: true
    clean-disabled: false
  mail:
    host: maildev
    port: 1025
    properties:
      mail.smtp.auth: false
      mail.smtp.starttls.enable: false
      mail.debug: true
  autoconfigure:
    exclude:
      - io.awspring.cloud.autoconfigure.ses.SesAutoConfiguration
  cloud:
    aws:
      ses:
        from: "test@example.com"
        mail:
          enabled: false # Disable SES JavaMailSender when test profile is active
  security:
    enabled: true
  mvc:
    static-path-pattern: /static/**

aws:
  s3:
    access-key-id: "test-key"
    secret-access-key: "test-secret"

upload:
  max-file-size: 5242880  # 5MB
  allowed-content-types:
    - image/jpeg
    - image/png
  presigned-url-expiration-minutes: 15

logging:
  pattern:
  
    exception-conversion-word: '%xEx{short}'
  level:
    root: WARN
    com.etalente.backend: DEBUG
    org.springframework.web: TRACE

jwt:
  secret-key: dGhpc2lzYWxvbmdzZWNyZXRrZXlmb3Jqd3R0ZXN0aW5nMTIz
  expiration-in-ms: 3600000 # 1 hour for tests
magic-link:
  url: http://localhost:4200/auth/callback
invitation-link-url: http://localhost:4200/auth/accept-invitation
invitation-expiry-hours: 72
cors:
  allowed-origins: http://localhost:4200
ott:
  expiration-minutes: 15 # Test default

novu:
  api-key: test-api-key
