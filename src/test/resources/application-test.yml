# Test configuration
spring:
  datasource:
    driver-class-name: org.testcontainers.jdbc.ContainerDatabaseDriver
    url: jdbc:tc:postgresql:15:///etalente
  jpa:
    hibernate:
      ddl-auto: create-drop
    show-sql: false
  flyway:
    enabled: true
    clean-disabled: false
  mail:
    host: maildev
    port: 1025
    properties:
      mail.smtp.auth: false
      mail.smtp.starttls.enable: false
      mail.debug: true
  autoconfigure:
    exclude:
      - io.awspring.cloud.autoconfigure.ses.SesAutoConfiguration
  cloud:
    aws:
      ses:
        mail:
          enabled: false # Disable SES JavaMailSender when test profile is active

logging:
  level:
    root: WARN
    com.etalente.backend: DEBUG

application:
  security:
    jwt:
      secret-key: test-secret-key-for-testing-only-do-not-use-in-production
      expiration: 3600000 # 1 hour for tests
  magic-link-url: http://localhost:4200/auth/callback
  invitation-link-url: http://localhost:4200/auth/accept-invitation
  invitation-expiry-hours: 72
  cors-allowed-origins: http://localhost:4200
